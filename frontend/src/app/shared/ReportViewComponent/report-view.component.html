<div class="report-view-container" @fadeIn>
    <div class="report-header">
        <button class="back-btn" (click)="goBack()">
            <i class="fas fa-arrow-left"></i> Retour à la liste
        </button>

        <button class="download-btn" (click)="downloadFile()" *ngIf="report">
            <i class="fas fa-download"></i> Télécharger
        </button>
    </div>

    <div class="loading-container" *ngIf="isLoading">
        <div class="spinner"></div>
        <p>Chargement du document...</p>
    </div>

    <div class="error-container" *ngIf="error">
        <i class="fas fa-exclamation-circle error-icon"></i>
        <h3>Erreur</h3>
        <p>{{ error }}</p>
    </div>

    <div class="report-content" *ngIf="report && !isLoading && !error">
        <div class="report-info">
            <div class="report-info-header">
                <h1>{{ report.title }}</h1>
                <div class="type-badge">{{ report.type }}</div>
            </div>
            
            <div class="report-info-body">
                <p class="description">{{ report.description }}</p>

                <div class="meta-info">
                    <div class="meta-item">
                        <i class="fas fa-calendar-alt"></i>
                        <span>Créé le: {{ report.createdAt | date:'dd/MM/yyyy à HH:mm' }}</span>
                    </div>
                </div>
            </div>
        </div>

        <div class="pdf-container">
            <iframe *ngIf="pdfUrl" [src]="pdfUrl" width="100%" height="100%" frameborder="0" title="PDF Viewer">
            </iframe>
        </div>
    </div>
</div>
